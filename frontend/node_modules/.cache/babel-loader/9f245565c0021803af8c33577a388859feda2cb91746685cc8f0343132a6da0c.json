{"ast":null,"code":"import React,{useState,useEffect}from'react';import Login from'./pages/Login';import Register from'./pages/Register';import Dashboard from'./pages/Dashboard';import InstallPrompt from'./components/InstallPrompt';import ErrorBoundary from'./components/ErrorBoundary';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export default function App(){const[user,setUser]=useState(null);const[showRegister,setShowRegister]=useState(false);// Suppress React error overlay for camera errors\nuseEffect(()=>{const originalError=console.error;console.error=function(){for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}const errorStr=args.join(' ');if(errorStr.includes('NotReadableError')||errorStr.includes('Could not start video source')||errorStr.includes('getUserMedia')){// Suppress React error overlay for camera errors\nreturn;}originalError.apply(console,args);};// Global error handler to prevent React error overlay\nconst handleError=event=>{var _event$error$message,_event$error$message2;if(event.error&&((_event$error$message=event.error.message)!==null&&_event$error$message!==void 0&&_event$error$message.includes('NotReadableError')||(_event$error$message2=event.error.message)!==null&&_event$error$message2!==void 0&&_event$error$message2.includes('Could not start video source')||event.error.name==='NotReadableError')){event.preventDefault();event.stopPropagation();// Error will be handled by ErrorBoundary\n}};window.addEventListener('error',handleError,true);return()=>{console.error=originalError;window.removeEventListener('error',handleError,true);};},[]);return/*#__PURE__*/_jsxs(ErrorBoundary,{children:[!user?showRegister?/*#__PURE__*/_jsx(Register,{setShowLogin:()=>setShowRegister(false)}):/*#__PURE__*/_jsx(Login,{setUser:setUser,setShowRegister:setShowRegister}):/*#__PURE__*/_jsx(Dashboard,{user:user,setUser:setUser}),/*#__PURE__*/_jsx(InstallPrompt,{})]});}","map":{"version":3,"names":["React","useState","useEffect","Login","Register","Dashboard","InstallPrompt","ErrorBoundary","jsx","_jsx","jsxs","_jsxs","App","user","setUser","showRegister","setShowRegister","originalError","console","error","_len","arguments","length","args","Array","_key","errorStr","join","includes","apply","handleError","event","_event$error$message","_event$error$message2","message","name","preventDefault","stopPropagation","window","addEventListener","removeEventListener","children","setShowLogin"],"sources":["C:/Users/LENOVO/Downloads/attendance-system-qr/frontend/src/App.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport Login from './pages/Login';\nimport Register from './pages/Register';\nimport Dashboard from './pages/Dashboard';\nimport InstallPrompt from './components/InstallPrompt';\nimport ErrorBoundary from './components/ErrorBoundary';\n\nexport default function App() {\n  const [user, setUser] = useState(null);\n  const [showRegister, setShowRegister] = useState(false);\n\n  // Suppress React error overlay for camera errors\n  useEffect(() => {\n    const originalError = console.error;\n    console.error = (...args) => {\n      const errorStr = args.join(' ');\n      if (errorStr.includes('NotReadableError') || \n          errorStr.includes('Could not start video source') ||\n          errorStr.includes('getUserMedia')) {\n        // Suppress React error overlay for camera errors\n        return;\n      }\n      originalError.apply(console, args);\n    };\n\n    // Global error handler to prevent React error overlay\n    const handleError = (event) => {\n      if (event.error && (\n        event.error.message?.includes('NotReadableError') ||\n        event.error.message?.includes('Could not start video source') ||\n        event.error.name === 'NotReadableError'\n      )) {\n        event.preventDefault();\n        event.stopPropagation();\n        // Error will be handled by ErrorBoundary\n      }\n    };\n\n    window.addEventListener('error', handleError, true);\n    \n    return () => {\n      console.error = originalError;\n      window.removeEventListener('error', handleError, true);\n    };\n  }, []);\n\n  return (\n    <ErrorBoundary>\n      {!user ? (\n        showRegister ? (\n          <Register setShowLogin={() => setShowRegister(false)} />\n        ) : (\n          <Login setUser={setUser} setShowRegister={setShowRegister} />\n        )\n      ) : (\n        <Dashboard user={user} setUser={setUser} />\n      )}\n      <InstallPrompt />\n    </ErrorBoundary>\n  );\n}\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAClD,MAAO,CAAAC,KAAK,KAAM,eAAe,CACjC,MAAO,CAAAC,QAAQ,KAAM,kBAAkB,CACvC,MAAO,CAAAC,SAAS,KAAM,mBAAmB,CACzC,MAAO,CAAAC,aAAa,KAAM,4BAA4B,CACtD,MAAO,CAAAC,aAAa,KAAM,4BAA4B,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAEvD,cAAe,SAAS,CAAAC,GAAGA,CAAA,CAAG,CAC5B,KAAM,CAACC,IAAI,CAAEC,OAAO,CAAC,CAAGb,QAAQ,CAAC,IAAI,CAAC,CACtC,KAAM,CAACc,YAAY,CAAEC,eAAe,CAAC,CAAGf,QAAQ,CAAC,KAAK,CAAC,CAEvD;AACAC,SAAS,CAAC,IAAM,CACd,KAAM,CAAAe,aAAa,CAAGC,OAAO,CAACC,KAAK,CACnCD,OAAO,CAACC,KAAK,CAAG,UAAa,SAAAC,IAAA,CAAAC,SAAA,CAAAC,MAAA,CAATC,IAAI,KAAAC,KAAA,CAAAJ,IAAA,EAAAK,IAAA,GAAAA,IAAA,CAAAL,IAAA,CAAAK,IAAA,IAAJF,IAAI,CAAAE,IAAA,EAAAJ,SAAA,CAAAI,IAAA,GACtB,KAAM,CAAAC,QAAQ,CAAGH,IAAI,CAACI,IAAI,CAAC,GAAG,CAAC,CAC/B,GAAID,QAAQ,CAACE,QAAQ,CAAC,kBAAkB,CAAC,EACrCF,QAAQ,CAACE,QAAQ,CAAC,8BAA8B,CAAC,EACjDF,QAAQ,CAACE,QAAQ,CAAC,cAAc,CAAC,CAAE,CACrC;AACA,OACF,CACAX,aAAa,CAACY,KAAK,CAACX,OAAO,CAAEK,IAAI,CAAC,CACpC,CAAC,CAED;AACA,KAAM,CAAAO,WAAW,CAAIC,KAAK,EAAK,KAAAC,oBAAA,CAAAC,qBAAA,CAC7B,GAAIF,KAAK,CAACZ,KAAK,GACb,CAAAa,oBAAA,CAAAD,KAAK,CAACZ,KAAK,CAACe,OAAO,UAAAF,oBAAA,WAAnBA,oBAAA,CAAqBJ,QAAQ,CAAC,kBAAkB,CAAC,GAAAK,qBAAA,CACjDF,KAAK,CAACZ,KAAK,CAACe,OAAO,UAAAD,qBAAA,WAAnBA,qBAAA,CAAqBL,QAAQ,CAAC,8BAA8B,CAAC,EAC7DG,KAAK,CAACZ,KAAK,CAACgB,IAAI,GAAK,kBAAkB,CACxC,CAAE,CACDJ,KAAK,CAACK,cAAc,CAAC,CAAC,CACtBL,KAAK,CAACM,eAAe,CAAC,CAAC,CACvB;AACF,CACF,CAAC,CAEDC,MAAM,CAACC,gBAAgB,CAAC,OAAO,CAAET,WAAW,CAAE,IAAI,CAAC,CAEnD,MAAO,IAAM,CACXZ,OAAO,CAACC,KAAK,CAAGF,aAAa,CAC7BqB,MAAM,CAACE,mBAAmB,CAAC,OAAO,CAAEV,WAAW,CAAE,IAAI,CAAC,CACxD,CAAC,CACH,CAAC,CAAE,EAAE,CAAC,CAEN,mBACEnB,KAAA,CAACJ,aAAa,EAAAkC,QAAA,EACX,CAAC5B,IAAI,CACJE,YAAY,cACVN,IAAA,CAACL,QAAQ,EAACsC,YAAY,CAAEA,CAAA,GAAM1B,eAAe,CAAC,KAAK,CAAE,CAAE,CAAC,cAExDP,IAAA,CAACN,KAAK,EAACW,OAAO,CAAEA,OAAQ,CAACE,eAAe,CAAEA,eAAgB,CAAE,CAC7D,cAEDP,IAAA,CAACJ,SAAS,EAACQ,IAAI,CAAEA,IAAK,CAACC,OAAO,CAAEA,OAAQ,CAAE,CAC3C,cACDL,IAAA,CAACH,aAAa,GAAE,CAAC,EACJ,CAAC,CAEpB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}