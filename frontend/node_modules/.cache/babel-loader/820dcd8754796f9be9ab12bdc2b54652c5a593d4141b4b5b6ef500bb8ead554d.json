{"ast":null,"code":"import _objectSpread from\"C:/Users/LENOVO/Downloads/attendance-system-qr/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState}from'react';import axios from'axios';import{API_BASE}from'../config';import'./Register.css';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";export default function Register(_ref){let{setShowLogin}=_ref;const[formData,setFormData]=useState({name:'',email:'',password:'',role:'student',studentId:'',course:'',section:''});const[loading,setLoading]=useState(false);const[error,setError]=useState('');const submit=async e=>{e.preventDefault();setError('');setLoading(true);try{await axios.post(\"\".concat(API_BASE,\"/api/register\"),formData);alert('Registration successful! Please login.');setShowLogin(true);}catch(err){var _err$response,_err$response$data;let errorMessage='Registration failed: ';if(err.code==='ERR_NETWORK'||err.message.includes('Network Error')){errorMessage=\"Cannot connect to server. Please make sure the backend server is running on \".concat(API_BASE);}else if((_err$response=err.response)!==null&&_err$response!==void 0&&(_err$response$data=_err$response.data)!==null&&_err$response$data!==void 0&&_err$response$data.error){errorMessage='Registration failed: '+err.response.data.error;}else{errorMessage='Registration failed: '+err.message;}setError(errorMessage);alert(errorMessage);}finally{setLoading(false);}};return/*#__PURE__*/_jsx(\"div\",{className:\"register-container\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"register-card\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"register-header\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"ATTENDANCE MANAGEMENT SYSTEM\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Create Your Account\"})]}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:submit,className:\"register-form\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"input-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Full Name\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:formData.name,onChange:e=>setFormData(_objectSpread(_objectSpread({},formData),{},{name:e.target.value})),placeholder:\"Enter your full name\",required:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"input-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Email\"}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",value:formData.email,onChange:e=>setFormData(_objectSpread(_objectSpread({},formData),{},{email:e.target.value})),placeholder:\"Enter your email\",required:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"input-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Password\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",value:formData.password,onChange:e=>setFormData(_objectSpread(_objectSpread({},formData),{},{password:e.target.value})),placeholder:\"Create a password\",required:true,minLength:\"6\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"input-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"I am a\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"radio-group\",children:[/*#__PURE__*/_jsxs(\"label\",{children:[/*#__PURE__*/_jsx(\"input\",{type:\"radio\",value:\"student\",checked:formData.role==='student',onChange:e=>setFormData(_objectSpread(_objectSpread({},formData),{},{role:e.target.value}))}),\"Student\"]}),/*#__PURE__*/_jsxs(\"label\",{children:[/*#__PURE__*/_jsx(\"input\",{type:\"radio\",value:\"teacher\",checked:formData.role==='teacher',onChange:e=>setFormData(_objectSpread(_objectSpread({},formData),{},{role:e.target.value}))}),\"Teacher\"]})]})]}),formData.role==='student'&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"input-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Student ID\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:formData.studentId,onChange:e=>setFormData(_objectSpread(_objectSpread({},formData),{},{studentId:e.target.value})),placeholder:\"e.g., JS240504\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"input-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Course\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:formData.course,onChange:e=>setFormData(_objectSpread(_objectSpread({},formData),{},{course:e.target.value})),placeholder:\"e.g., BE in Information Science & Engineering\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"input-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Section\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:formData.section,onChange:e=>setFormData(_objectSpread(_objectSpread({},formData),{},{section:e.target.value})),placeholder:\"e.g., BEIS-3\"})]})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"register-btn\",disabled:loading,children:loading?'REGISTERING...':'REGISTER'}),error&&/*#__PURE__*/_jsx(\"div\",{style:{color:'red',marginTop:'10px',fontSize:'14px',textAlign:'center'},children:error})]}),/*#__PURE__*/_jsx(\"div\",{className:\"register-footer\",children:/*#__PURE__*/_jsxs(\"p\",{children:[\"Already have an account?\",' ',/*#__PURE__*/_jsx(\"button\",{onClick:()=>setShowLogin(true),className:\"link-btn\",children:\"Login here\"})]})})]})});}","map":{"version":3,"names":["React","useState","axios","API_BASE","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","Register","_ref","setShowLogin","formData","setFormData","name","email","password","role","studentId","course","section","loading","setLoading","error","setError","submit","e","preventDefault","post","concat","alert","err","_err$response","_err$response$data","errorMessage","code","message","includes","response","data","className","children","onSubmit","type","value","onChange","_objectSpread","target","placeholder","required","minLength","checked","disabled","style","color","marginTop","fontSize","textAlign","onClick"],"sources":["C:/Users/LENOVO/Downloads/attendance-system-qr/frontend/src/pages/Register.js"],"sourcesContent":["import React, { useState } from 'react';\r\nimport axios from 'axios';\r\nimport { API_BASE } from '../config';\r\nimport './Register.css';\r\n\r\nexport default function Register({ setShowLogin }) {\r\n  const [formData, setFormData] = useState({\r\n    name: '',\r\n    email: '',\r\n    password: '',\r\n    role: 'student',\r\n    studentId: '',\r\n    course: '',\r\n    section: ''\r\n  });\r\n  const [loading, setLoading] = useState(false);\r\n  const [error, setError] = useState('');\r\n\r\n  const submit = async (e) => {\r\n    e.preventDefault();\r\n    setError('');\r\n    setLoading(true);\r\n    try {\r\n      await axios.post(`${API_BASE}/api/register`, formData);\r\n      alert('Registration successful! Please login.');\r\n      setShowLogin(true);\r\n    } catch (err) {\r\n      let errorMessage = 'Registration failed: ';\r\n      if (err.code === 'ERR_NETWORK' || err.message.includes('Network Error')) {\r\n        errorMessage = `Cannot connect to server. Please make sure the backend server is running on ${API_BASE}`;\r\n      } else if (err.response?.data?.error) {\r\n        errorMessage = 'Registration failed: ' + err.response.data.error;\r\n      } else {\r\n        errorMessage = 'Registration failed: ' + err.message;\r\n      }\r\n      setError(errorMessage);\r\n      alert(errorMessage);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"register-container\">\r\n      <div className=\"register-card\">\r\n        <div className=\"register-header\">\r\n          <h1>ATTENDANCE MANAGEMENT SYSTEM</h1>\r\n          <p>Create Your Account</p>\r\n        </div>\r\n        \r\n        <form onSubmit={submit} className=\"register-form\">\r\n          <div className=\"input-group\">\r\n            <label>Full Name</label>\r\n            <input\r\n              type=\"text\"\r\n              value={formData.name}\r\n              onChange={(e) => setFormData({ ...formData, name: e.target.value })}\r\n              placeholder=\"Enter your full name\"\r\n              required\r\n            />\r\n          </div>\r\n\r\n          <div className=\"input-group\">\r\n            <label>Email</label>\r\n            <input\r\n              type=\"email\"\r\n              value={formData.email}\r\n              onChange={(e) => setFormData({ ...formData, email: e.target.value })}\r\n              placeholder=\"Enter your email\"\r\n              required\r\n            />\r\n          </div>\r\n\r\n          <div className=\"input-group\">\r\n            <label>Password</label>\r\n            <input\r\n              type=\"password\"\r\n              value={formData.password}\r\n              onChange={(e) => setFormData({ ...formData, password: e.target.value })}\r\n              placeholder=\"Create a password\"\r\n              required\r\n              minLength=\"6\"\r\n            />\r\n          </div>\r\n\r\n          <div className=\"input-group\">\r\n            <label>I am a</label>\r\n            <div className=\"radio-group\">\r\n              <label>\r\n                <input\r\n                  type=\"radio\"\r\n                  value=\"student\"\r\n                  checked={formData.role === 'student'}\r\n                  onChange={(e) => setFormData({ ...formData, role: e.target.value })}\r\n                />\r\n                Student\r\n              </label>\r\n              <label>\r\n                <input\r\n                  type=\"radio\"\r\n                  value=\"teacher\"\r\n                  checked={formData.role === 'teacher'}\r\n                  onChange={(e) => setFormData({ ...formData, role: e.target.value })}\r\n                />\r\n                Teacher\r\n              </label>\r\n            </div>\r\n          </div>\r\n\r\n          {formData.role === 'student' && (\r\n            <>\r\n              <div className=\"input-group\">\r\n                <label>Student ID</label>\r\n                <input\r\n                  type=\"text\"\r\n                  value={formData.studentId}\r\n                  onChange={(e) => setFormData({ ...formData, studentId: e.target.value })}\r\n                  placeholder=\"e.g., JS240504\"\r\n                />\r\n              </div>\r\n\r\n              <div className=\"input-group\">\r\n                <label>Course</label>\r\n                <input\r\n                  type=\"text\"\r\n                  value={formData.course}\r\n                  onChange={(e) => setFormData({ ...formData, course: e.target.value })}\r\n                  placeholder=\"e.g., BE in Information Science & Engineering\"\r\n                />\r\n              </div>\r\n\r\n              <div className=\"input-group\">\r\n                <label>Section</label>\r\n                <input\r\n                  type=\"text\"\r\n                  value={formData.section}\r\n                  onChange={(e) => setFormData({ ...formData, section: e.target.value })}\r\n                  placeholder=\"e.g., BEIS-3\"\r\n                />\r\n              </div>\r\n            </>\r\n          )}\r\n\r\n          <button type=\"submit\" className=\"register-btn\" disabled={loading}>\r\n            {loading ? 'REGISTERING...' : 'REGISTER'}\r\n          </button>\r\n          {error && (\r\n            <div style={{ color: 'red', marginTop: '10px', fontSize: '14px', textAlign: 'center' }}>\r\n              {error}\r\n            </div>\r\n          )}\r\n        </form>\r\n\r\n        <div className=\"register-footer\">\r\n          <p>\r\n            Already have an account?{' '}\r\n            <button onClick={() => setShowLogin(true)} className=\"link-btn\">\r\n              Login here\r\n            </button>\r\n          </p>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}