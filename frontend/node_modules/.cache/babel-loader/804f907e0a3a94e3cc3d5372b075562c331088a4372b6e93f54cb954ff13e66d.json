{"ast":null,"code":"import React,{useEffect,useState}from'react';import axios from'axios';import{API_BASE}from'../config';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export default function StudentSummary(_ref){let{user}=_ref;const[stats,setStats]=useState([]);const[loading,setLoading]=useState(true);useEffect(()=>{const load=async()=>{setLoading(true);try{const r=await axios.get(\"\".concat(API_BASE,\"/api/student/attendance?student_id=\").concat(user.id));setStats(r.data.statistics||[]);}finally{setLoading(false);}};load();},[user.id]);if(loading){return/*#__PURE__*/_jsx(\"div\",{style:{color:'#666'},children:\"Loading summary...\"});}if(!stats.length){return/*#__PURE__*/_jsx(\"div\",{style:{color:'#666'},children:\"No attendance yet. Start scanning to see your stats.\"});}return/*#__PURE__*/_jsx(\"div\",{className:\"stats-grid\",children:stats.map(s=>/*#__PURE__*/_jsxs(\"div\",{className:\"stat-card\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"stat-header\",children:[/*#__PURE__*/_jsx(\"h3\",{children:s.class_name}),/*#__PURE__*/_jsxs(\"span\",{className:\"percentage \".concat(s.percentage>=75?'good':s.percentage>=60?'warning':'low'),children:[s.percentage,\"%\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"stat-details\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"stat-item\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"stat-label\",children:\"Present\"}),/*#__PURE__*/_jsx(\"span\",{className:\"stat-value present\",children:s.present})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"stat-item\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"stat-label\",children:\"Absent\"}),/*#__PURE__*/_jsx(\"span\",{className:\"stat-value absent\",children:s.absent})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"stat-item\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"stat-label\",children:\"Total\"}),/*#__PURE__*/_jsx(\"span\",{className:\"stat-value\",children:s.total})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"stat-progress\",children:/*#__PURE__*/_jsx(\"div\",{className:\"progress-bar\",style:{width:\"\".concat(s.percentage,\"%\")}})})]},s.class_id))});}","map":{"version":3,"names":["React","useEffect","useState","axios","API_BASE","jsx","_jsx","jsxs","_jsxs","StudentSummary","_ref","user","stats","setStats","loading","setLoading","load","r","get","concat","id","data","statistics","style","color","children","length","className","map","s","class_name","percentage","present","absent","total","width","class_id"],"sources":["C:/Users/LENOVO/Downloads/attendance-system-qr/frontend/src/pages/StudentSummary.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport axios from 'axios';\r\nimport { API_BASE } from '../config';\r\n\r\nexport default function StudentSummary({ user }) {\r\n  const [stats, setStats] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n\r\n  useEffect(() => {\r\n    const load = async () => {\r\n      setLoading(true);\r\n      try {\r\n        const r = await axios.get(`${API_BASE}/api/student/attendance?student_id=${user.id}`);\r\n        setStats(r.data.statistics || []);\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n    };\r\n    load();\r\n  }, [user.id]);\r\n\r\n  if (loading) {\r\n    return <div style={{color:'#666'}}>Loading summary...</div>;\r\n  }\r\n\r\n  if (!stats.length) {\r\n    return <div style={{color:'#666'}}>No attendance yet. Start scanning to see your stats.</div>;\r\n  }\r\n\r\n  return (\r\n    <div className=\"stats-grid\">\r\n      {stats.map(s => (\r\n        <div key={s.class_id} className=\"stat-card\">\r\n          <div className=\"stat-header\">\r\n            <h3>{s.class_name}</h3>\r\n            <span className={`percentage ${s.percentage >= 75 ? 'good' : s.percentage >= 60 ? 'warning' : 'low'}`}>{s.percentage}%</span>\r\n          </div>\r\n          <div className=\"stat-details\">\r\n            <div className=\"stat-item\"><span className=\"stat-label\">Present</span><span className=\"stat-value present\">{s.present}</span></div>\r\n            <div className=\"stat-item\"><span className=\"stat-label\">Absent</span><span className=\"stat-value absent\">{s.absent}</span></div>\r\n            <div className=\"stat-item\"><span className=\"stat-label\">Total</span><span className=\"stat-value\">{s.total}</span></div>\r\n          </div>\r\n          <div className=\"stat-progress\"><div className=\"progress-bar\" style={{width: `${s.percentage}%`}}></div></div>\r\n        </div>\r\n      ))}\r\n    </div>\r\n  );\r\n}\r\n\r\n\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}