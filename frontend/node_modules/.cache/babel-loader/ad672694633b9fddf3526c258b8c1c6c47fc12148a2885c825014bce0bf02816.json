{"ast":null,"code":"// Device fingerprinting utility for security\n// Generates a unique fingerprint based on browser/device characteristics\n\nexport function generateDeviceFingerprint() {\n  if (typeof window === 'undefined' || typeof document === 'undefined') {\n    return 'nofp';\n  }\n  const canvas = document.createElement('canvas');\n  const ctx = canvas.getContext('2d');\n  ctx.textBaseline = 'top';\n  ctx.font = '14px \"Arial\"';\n  ctx.fillText('Device fingerprint', 2, 2);\n  const scr = window.screen || {};\n  const nav = window.navigator || {};\n  const fingerprint = {\n    // Screen properties\n    screenResolution: `${scr.width || 0}x${scr.height || 0}`,\n    screenColorDepth: scr.colorDepth || 0,\n    // Browser properties\n    userAgent: nav.userAgent || '',\n    language: nav.language || '',\n    platform: nav.platform || '',\n    cookieEnabled: !!nav.cookieEnabled,\n    doNotTrack: nav.doNotTrack || 'unknown',\n    // Canvas fingerprint (unique rendering characteristics)\n    canvasFingerprint: canvas.toDataURL(),\n    // Timezone\n    timezone: Intl.DateTimeFormat().resolvedOptions().timeZone,\n    timezoneOffset: new Date().getTimezoneOffset(),\n    // Hardware\n    hardwareConcurrency: nav.hardwareConcurrency || 'unknown',\n    deviceMemory: nav.deviceMemory || 'unknown'\n  };\n  const fingerprintString = JSON.stringify(fingerprint);\n  let hash = 0;\n  for (let i = 0; i < fingerprintString.length; i++) {\n    const char = fingerprintString.charCodeAt(i);\n    hash = (hash << 5) - hash + char;\n    hash |= 0;\n  }\n  const stableFingerprint = Math.abs(hash).toString(16) + '_' + fingerprint.screenResolution + '_' + (fingerprint.platform || '').substring(0, 10);\n  return stableFingerprint.substring(0, 64);\n}","map":{"version":3,"names":["generateDeviceFingerprint","window","document","canvas","createElement","ctx","getContext","textBaseline","font","fillText","scr","screen","nav","navigator","fingerprint","screenResolution","width","height","screenColorDepth","colorDepth","userAgent","language","platform","cookieEnabled","doNotTrack","canvasFingerprint","toDataURL","timezone","Intl","DateTimeFormat","resolvedOptions","timeZone","timezoneOffset","Date","getTimezoneOffset","hardwareConcurrency","deviceMemory","fingerprintString","JSON","stringify","hash","i","length","char","charCodeAt","stableFingerprint","Math","abs","toString","substring"],"sources":["C:/Users/LENOVO/Downloads/attendance-system-qr/frontend/src/utils/deviceFingerprint.js"],"sourcesContent":["// Device fingerprinting utility for security\r\n// Generates a unique fingerprint based on browser/device characteristics\r\n\r\nexport function generateDeviceFingerprint() {\r\n  if (typeof window === 'undefined' || typeof document === 'undefined') {\r\n    return 'nofp';\r\n  }\r\n\r\n  const canvas = document.createElement('canvas');\r\n  const ctx = canvas.getContext('2d');\r\n  ctx.textBaseline = 'top';\r\n  ctx.font = '14px \"Arial\"';\r\n  ctx.fillText('Device fingerprint', 2, 2);\r\n\r\n  const scr = window.screen || {};\r\n  const nav = window.navigator || {};\r\n\r\n  const fingerprint = {\r\n    // Screen properties\r\n    screenResolution: `${scr.width || 0}x${scr.height || 0}`,\r\n    screenColorDepth: scr.colorDepth || 0,\r\n\r\n    // Browser properties\r\n    userAgent: nav.userAgent || '',\r\n    language: nav.language || '',\r\n    platform: nav.platform || '',\r\n    cookieEnabled: !!nav.cookieEnabled,\r\n    doNotTrack: nav.doNotTrack || 'unknown',\r\n\r\n    // Canvas fingerprint (unique rendering characteristics)\r\n    canvasFingerprint: canvas.toDataURL(),\r\n\r\n    // Timezone\r\n    timezone: Intl.DateTimeFormat().resolvedOptions().timeZone,\r\n    timezoneOffset: new Date().getTimezoneOffset(),\r\n\r\n    // Hardware\r\n    hardwareConcurrency: nav.hardwareConcurrency || 'unknown',\r\n    deviceMemory: nav.deviceMemory || 'unknown',\r\n  };\r\n\r\n  const fingerprintString = JSON.stringify(fingerprint);\r\n\r\n  let hash = 0;\r\n  for (let i = 0; i < fingerprintString.length; i++) {\r\n    const char = fingerprintString.charCodeAt(i);\r\n    hash = ((hash << 5) - hash) + char;\r\n    hash |= 0;\r\n  }\r\n\r\n  const stableFingerprint =\r\n    Math.abs(hash).toString(16) + '_' +\r\n    fingerprint.screenResolution + '_' +\r\n    (fingerprint.platform || '').substring(0, 10);\r\n\r\n  return stableFingerprint.substring(0, 64);\r\n}\r\n"],"mappings":"AAAA;AACA;;AAEA,OAAO,SAASA,yBAAyBA,CAAA,EAAG;EAC1C,IAAI,OAAOC,MAAM,KAAK,WAAW,IAAI,OAAOC,QAAQ,KAAK,WAAW,EAAE;IACpE,OAAO,MAAM;EACf;EAEA,MAAMC,MAAM,GAAGD,QAAQ,CAACE,aAAa,CAAC,QAAQ,CAAC;EAC/C,MAAMC,GAAG,GAAGF,MAAM,CAACG,UAAU,CAAC,IAAI,CAAC;EACnCD,GAAG,CAACE,YAAY,GAAG,KAAK;EACxBF,GAAG,CAACG,IAAI,GAAG,cAAc;EACzBH,GAAG,CAACI,QAAQ,CAAC,oBAAoB,EAAE,CAAC,EAAE,CAAC,CAAC;EAExC,MAAMC,GAAG,GAAGT,MAAM,CAACU,MAAM,IAAI,CAAC,CAAC;EAC/B,MAAMC,GAAG,GAAGX,MAAM,CAACY,SAAS,IAAI,CAAC,CAAC;EAElC,MAAMC,WAAW,GAAG;IAClB;IACAC,gBAAgB,EAAE,GAAGL,GAAG,CAACM,KAAK,IAAI,CAAC,IAAIN,GAAG,CAACO,MAAM,IAAI,CAAC,EAAE;IACxDC,gBAAgB,EAAER,GAAG,CAACS,UAAU,IAAI,CAAC;IAErC;IACAC,SAAS,EAAER,GAAG,CAACQ,SAAS,IAAI,EAAE;IAC9BC,QAAQ,EAAET,GAAG,CAACS,QAAQ,IAAI,EAAE;IAC5BC,QAAQ,EAAEV,GAAG,CAACU,QAAQ,IAAI,EAAE;IAC5BC,aAAa,EAAE,CAAC,CAACX,GAAG,CAACW,aAAa;IAClCC,UAAU,EAAEZ,GAAG,CAACY,UAAU,IAAI,SAAS;IAEvC;IACAC,iBAAiB,EAAEtB,MAAM,CAACuB,SAAS,CAAC,CAAC;IAErC;IACAC,QAAQ,EAAEC,IAAI,CAACC,cAAc,CAAC,CAAC,CAACC,eAAe,CAAC,CAAC,CAACC,QAAQ;IAC1DC,cAAc,EAAE,IAAIC,IAAI,CAAC,CAAC,CAACC,iBAAiB,CAAC,CAAC;IAE9C;IACAC,mBAAmB,EAAEvB,GAAG,CAACuB,mBAAmB,IAAI,SAAS;IACzDC,YAAY,EAAExB,GAAG,CAACwB,YAAY,IAAI;EACpC,CAAC;EAED,MAAMC,iBAAiB,GAAGC,IAAI,CAACC,SAAS,CAACzB,WAAW,CAAC;EAErD,IAAI0B,IAAI,GAAG,CAAC;EACZ,KAAK,IAAIC,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGJ,iBAAiB,CAACK,MAAM,EAAED,CAAC,EAAE,EAAE;IACjD,MAAME,IAAI,GAAGN,iBAAiB,CAACO,UAAU,CAACH,CAAC,CAAC;IAC5CD,IAAI,GAAI,CAACA,IAAI,IAAI,CAAC,IAAIA,IAAI,GAAIG,IAAI;IAClCH,IAAI,IAAI,CAAC;EACX;EAEA,MAAMK,iBAAiB,GACrBC,IAAI,CAACC,GAAG,CAACP,IAAI,CAAC,CAACQ,QAAQ,CAAC,EAAE,CAAC,GAAG,GAAG,GACjClC,WAAW,CAACC,gBAAgB,GAAG,GAAG,GAClC,CAACD,WAAW,CAACQ,QAAQ,IAAI,EAAE,EAAE2B,SAAS,CAAC,CAAC,EAAE,EAAE,CAAC;EAE/C,OAAOJ,iBAAiB,CAACI,SAAS,CAAC,CAAC,EAAE,EAAE,CAAC;AAC3C","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}