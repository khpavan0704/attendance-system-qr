{"ast":null,"code":"import React from'react';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";class ErrorBoundary extends React.Component{constructor(props){super(props);this.state={hasError:false,error:null};}static getDerivedStateFromError(error){// Check if it's a camera-related error\nconst errorMessage=(error===null||error===void 0?void 0:error.message)||(error===null||error===void 0?void 0:error.toString())||'';if(errorMessage.includes('NotReadableError')||errorMessage.includes('Could not start video source')||errorMessage.includes('userMedia')||errorMessage.includes('getUserMedia')){return{hasError:true,error:'Camera error: Could not start video source. Please close other apps using the camera and try again.'};}return{hasError:true,error:errorMessage};}componentDidCatch(error,errorInfo){var _error$message,_error$message2;// Suppress React error overlay for camera errors\nif(error!==null&&error!==void 0&&(_error$message=error.message)!==null&&_error$message!==void 0&&_error$message.includes('NotReadableError')||error!==null&&error!==void 0&&(_error$message2=error.message)!==null&&_error$message2!==void 0&&_error$message2.includes('Could not start video source')){// Prevent React error overlay from showing\nconsole.error('Camera error caught by boundary:',error);return;}console.error('Error caught by boundary:',error,errorInfo);}render(){if(this.state.hasError){return/*#__PURE__*/_jsxs(\"div\",{style:{padding:'20px',backgroundColor:'#fee',border:'2px solid #fcc',borderRadius:'8px',margin:'20px',color:'#c33'},children:[/*#__PURE__*/_jsx(\"h3\",{children:\"\\u26A0\\uFE0F Camera Error\"}),/*#__PURE__*/_jsx(\"p\",{children:this.state.error}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>{this.setState({hasError:false,error:null});window.location.reload();},style:{marginTop:'10px',padding:'10px 20px',backgroundColor:'#4CAF50',color:'white',border:'none',borderRadius:'5px',cursor:'pointer'},children:\"Reload Page\"})]});}return this.props.children;}}export default ErrorBoundary;","map":{"version":3,"names":["React","jsx","_jsx","jsxs","_jsxs","ErrorBoundary","Component","constructor","props","state","hasError","error","getDerivedStateFromError","errorMessage","message","toString","includes","componentDidCatch","errorInfo","_error$message","_error$message2","console","render","style","padding","backgroundColor","border","borderRadius","margin","color","children","onClick","setState","window","location","reload","marginTop","cursor"],"sources":["C:/Users/LENOVO/Downloads/attendance-system-qr/frontend/src/components/ErrorBoundary.js"],"sourcesContent":["import React from 'react';\r\n\r\nclass ErrorBoundary extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = { hasError: false, error: null };\r\n  }\r\n\r\n  static getDerivedStateFromError(error) {\r\n    // Check if it's a camera-related error\r\n    const errorMessage = error?.message || error?.toString() || '';\r\n    if (errorMessage.includes('NotReadableError') || \r\n        errorMessage.includes('Could not start video source') ||\r\n        errorMessage.includes('userMedia') ||\r\n        errorMessage.includes('getUserMedia')) {\r\n      return { \r\n        hasError: true, \r\n        error: 'Camera error: Could not start video source. Please close other apps using the camera and try again.' \r\n      };\r\n    }\r\n    return { hasError: true, error: errorMessage };\r\n  }\r\n\r\n  componentDidCatch(error, errorInfo) {\r\n    // Suppress React error overlay for camera errors\r\n    if (error?.message?.includes('NotReadableError') || \r\n        error?.message?.includes('Could not start video source')) {\r\n      // Prevent React error overlay from showing\r\n      console.error('Camera error caught by boundary:', error);\r\n      return;\r\n    }\r\n    console.error('Error caught by boundary:', error, errorInfo);\r\n  }\r\n\r\n  render() {\r\n    if (this.state.hasError) {\r\n      return (\r\n        <div style={{\r\n          padding: '20px',\r\n          backgroundColor: '#fee',\r\n          border: '2px solid #fcc',\r\n          borderRadius: '8px',\r\n          margin: '20px',\r\n          color: '#c33'\r\n        }}>\r\n          <h3>⚠️ Camera Error</h3>\r\n          <p>{this.state.error}</p>\r\n          <button \r\n            onClick={() => {\r\n              this.setState({ hasError: false, error: null });\r\n              window.location.reload();\r\n            }}\r\n            style={{\r\n              marginTop: '10px',\r\n              padding: '10px 20px',\r\n              backgroundColor: '#4CAF50',\r\n              color: 'white',\r\n              border: 'none',\r\n              borderRadius: '5px',\r\n              cursor: 'pointer'\r\n            }}\r\n          >\r\n            Reload Page\r\n          </button>\r\n        </div>\r\n      );\r\n    }\r\n\r\n    return this.props.children;\r\n  }\r\n}\r\n\r\nexport default ErrorBoundary;\r\n\r\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,KAAM,OAAO,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAE1B,KAAM,CAAAC,aAAa,QAAS,CAAAL,KAAK,CAACM,SAAU,CAC1CC,WAAWA,CAACC,KAAK,CAAE,CACjB,KAAK,CAACA,KAAK,CAAC,CACZ,IAAI,CAACC,KAAK,CAAG,CAAEC,QAAQ,CAAE,KAAK,CAAEC,KAAK,CAAE,IAAK,CAAC,CAC/C,CAEA,MAAO,CAAAC,wBAAwBA,CAACD,KAAK,CAAE,CACrC;AACA,KAAM,CAAAE,YAAY,CAAG,CAAAF,KAAK,SAALA,KAAK,iBAALA,KAAK,CAAEG,OAAO,IAAIH,KAAK,SAALA,KAAK,iBAALA,KAAK,CAAEI,QAAQ,CAAC,CAAC,GAAI,EAAE,CAC9D,GAAIF,YAAY,CAACG,QAAQ,CAAC,kBAAkB,CAAC,EACzCH,YAAY,CAACG,QAAQ,CAAC,8BAA8B,CAAC,EACrDH,YAAY,CAACG,QAAQ,CAAC,WAAW,CAAC,EAClCH,YAAY,CAACG,QAAQ,CAAC,cAAc,CAAC,CAAE,CACzC,MAAO,CACLN,QAAQ,CAAE,IAAI,CACdC,KAAK,CAAE,qGACT,CAAC,CACH,CACA,MAAO,CAAED,QAAQ,CAAE,IAAI,CAAEC,KAAK,CAAEE,YAAa,CAAC,CAChD,CAEAI,iBAAiBA,CAACN,KAAK,CAAEO,SAAS,CAAE,KAAAC,cAAA,CAAAC,eAAA,CAClC;AACA,GAAIT,KAAK,SAALA,KAAK,YAAAQ,cAAA,CAALR,KAAK,CAAEG,OAAO,UAAAK,cAAA,WAAdA,cAAA,CAAgBH,QAAQ,CAAC,kBAAkB,CAAC,EAC5CL,KAAK,SAALA,KAAK,YAAAS,eAAA,CAALT,KAAK,CAAEG,OAAO,UAAAM,eAAA,WAAdA,eAAA,CAAgBJ,QAAQ,CAAC,8BAA8B,CAAC,CAAE,CAC5D;AACAK,OAAO,CAACV,KAAK,CAAC,kCAAkC,CAAEA,KAAK,CAAC,CACxD,OACF,CACAU,OAAO,CAACV,KAAK,CAAC,2BAA2B,CAAEA,KAAK,CAAEO,SAAS,CAAC,CAC9D,CAEAI,MAAMA,CAAA,CAAG,CACP,GAAI,IAAI,CAACb,KAAK,CAACC,QAAQ,CAAE,CACvB,mBACEN,KAAA,QAAKmB,KAAK,CAAE,CACVC,OAAO,CAAE,MAAM,CACfC,eAAe,CAAE,MAAM,CACvBC,MAAM,CAAE,gBAAgB,CACxBC,YAAY,CAAE,KAAK,CACnBC,MAAM,CAAE,MAAM,CACdC,KAAK,CAAE,MACT,CAAE,CAAAC,QAAA,eACA5B,IAAA,OAAA4B,QAAA,CAAI,2BAAe,CAAI,CAAC,cACxB5B,IAAA,MAAA4B,QAAA,CAAI,IAAI,CAACrB,KAAK,CAACE,KAAK,CAAI,CAAC,cACzBT,IAAA,WACE6B,OAAO,CAAEA,CAAA,GAAM,CACb,IAAI,CAACC,QAAQ,CAAC,CAAEtB,QAAQ,CAAE,KAAK,CAAEC,KAAK,CAAE,IAAK,CAAC,CAAC,CAC/CsB,MAAM,CAACC,QAAQ,CAACC,MAAM,CAAC,CAAC,CAC1B,CAAE,CACFZ,KAAK,CAAE,CACLa,SAAS,CAAE,MAAM,CACjBZ,OAAO,CAAE,WAAW,CACpBC,eAAe,CAAE,SAAS,CAC1BI,KAAK,CAAE,OAAO,CACdH,MAAM,CAAE,MAAM,CACdC,YAAY,CAAE,KAAK,CACnBU,MAAM,CAAE,SACV,CAAE,CAAAP,QAAA,CACH,aAED,CAAQ,CAAC,EACN,CAAC,CAEV,CAEA,MAAO,KAAI,CAACtB,KAAK,CAACsB,QAAQ,CAC5B,CACF,CAEA,cAAe,CAAAzB,aAAa","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}