{"ast":null,"code":"// Device fingerprinting utility for security\n// Generates a unique fingerprint based on browser/device characteristics\n\nexport function generateDeviceFingerprint() {\n  const canvas = document.createElement('canvas');\n  const ctx = canvas.getContext('2d');\n  ctx.textBaseline = 'top';\n  ctx.font = '14px \"Arial\"';\n  ctx.fillText('Device fingerprint', 2, 2);\n  const fingerprint = {\n    // Screen properties\n    screenResolution: `${screen.width}x${screen.height}`,\n    screenColorDepth: screen.colorDepth,\n    // Browser properties\n    userAgent: navigator.userAgent,\n    language: navigator.language,\n    platform: navigator.platform,\n    cookieEnabled: navigator.cookieEnabled,\n    doNotTrack: navigator.doNotTrack || 'unknown',\n    // Canvas fingerprint (unique rendering characteristics)\n    canvasFingerprint: canvas.toDataURL(),\n    // Timezone\n    timezone: Intl.DateTimeFormat().resolvedOptions().timeZone,\n    timezoneOffset: new Date().getTimezoneOffset(),\n    // Hardware concurrency\n    hardwareConcurrency: navigator.hardwareConcurrency || 'unknown',\n    // Device memory (if available)\n    deviceMemory: navigator.deviceMemory || 'unknown'\n  };\n\n  // Create a hash of the fingerprint\n  const fingerprintString = JSON.stringify(fingerprint);\n\n  // Simple hash function (for better performance, you could use crypto.subtle in production)\n  let hash = 0;\n  for (let i = 0; i < fingerprintString.length; i++) {\n    const char = fingerprintString.charCodeAt(i);\n    hash = (hash << 5) - hash + char;\n    hash = hash & hash; // Convert to 32-bit integer\n  }\n\n  // Also include a timestamp component to make it more unique (but stable for same device)\n  const stableFingerprint = Math.abs(hash).toString(16) + '_' + fingerprint.screenResolution + '_' + fingerprint.platform.substring(0, 10);\n  return stableFingerprint.substring(0, 64); // Limit length\n}","map":{"version":3,"names":["generateDeviceFingerprint","canvas","document","createElement","ctx","getContext","textBaseline","font","fillText","fingerprint","screenResolution","screen","width","height","screenColorDepth","colorDepth","userAgent","navigator","language","platform","cookieEnabled","doNotTrack","canvasFingerprint","toDataURL","timezone","Intl","DateTimeFormat","resolvedOptions","timeZone","timezoneOffset","Date","getTimezoneOffset","hardwareConcurrency","deviceMemory","fingerprintString","JSON","stringify","hash","i","length","char","charCodeAt","stableFingerprint","Math","abs","toString","substring"],"sources":["C:/Users/LENOVO/Downloads/attendance-system-qr/frontend/src/utils/deviceFingerprint.js"],"sourcesContent":["// Device fingerprinting utility for security\r\n// Generates a unique fingerprint based on browser/device characteristics\r\n\r\nexport function generateDeviceFingerprint() {\r\n  const canvas = document.createElement('canvas');\r\n  const ctx = canvas.getContext('2d');\r\n  ctx.textBaseline = 'top';\r\n  ctx.font = '14px \"Arial\"';\r\n  ctx.fillText('Device fingerprint', 2, 2);\r\n  \r\n  const fingerprint = {\r\n    // Screen properties\r\n    screenResolution: `${screen.width}x${screen.height}`,\r\n    screenColorDepth: screen.colorDepth,\r\n    \r\n    // Browser properties\r\n    userAgent: navigator.userAgent,\r\n    language: navigator.language,\r\n    platform: navigator.platform,\r\n    cookieEnabled: navigator.cookieEnabled,\r\n    doNotTrack: navigator.doNotTrack || 'unknown',\r\n    \r\n    // Canvas fingerprint (unique rendering characteristics)\r\n    canvasFingerprint: canvas.toDataURL(),\r\n    \r\n    // Timezone\r\n    timezone: Intl.DateTimeFormat().resolvedOptions().timeZone,\r\n    timezoneOffset: new Date().getTimezoneOffset(),\r\n    \r\n    // Hardware concurrency\r\n    hardwareConcurrency: navigator.hardwareConcurrency || 'unknown',\r\n    \r\n    // Device memory (if available)\r\n    deviceMemory: navigator.deviceMemory || 'unknown',\r\n  };\r\n  \r\n  // Create a hash of the fingerprint\r\n  const fingerprintString = JSON.stringify(fingerprint);\r\n  \r\n  // Simple hash function (for better performance, you could use crypto.subtle in production)\r\n  let hash = 0;\r\n  for (let i = 0; i < fingerprintString.length; i++) {\r\n    const char = fingerprintString.charCodeAt(i);\r\n    hash = ((hash << 5) - hash) + char;\r\n    hash = hash & hash; // Convert to 32-bit integer\r\n  }\r\n  \r\n  // Also include a timestamp component to make it more unique (but stable for same device)\r\n  const stableFingerprint = Math.abs(hash).toString(16) + '_' + \r\n    fingerprint.screenResolution + '_' + \r\n    fingerprint.platform.substring(0, 10);\r\n  \r\n  return stableFingerprint.substring(0, 64); // Limit length\r\n}\r\n\r\n"],"mappings":"AAAA;AACA;;AAEA,OAAO,SAASA,yBAAyBA,CAAA,EAAG;EAC1C,MAAMC,MAAM,GAAGC,QAAQ,CAACC,aAAa,CAAC,QAAQ,CAAC;EAC/C,MAAMC,GAAG,GAAGH,MAAM,CAACI,UAAU,CAAC,IAAI,CAAC;EACnCD,GAAG,CAACE,YAAY,GAAG,KAAK;EACxBF,GAAG,CAACG,IAAI,GAAG,cAAc;EACzBH,GAAG,CAACI,QAAQ,CAAC,oBAAoB,EAAE,CAAC,EAAE,CAAC,CAAC;EAExC,MAAMC,WAAW,GAAG;IAClB;IACAC,gBAAgB,EAAE,GAAGC,MAAM,CAACC,KAAK,IAAID,MAAM,CAACE,MAAM,EAAE;IACpDC,gBAAgB,EAAEH,MAAM,CAACI,UAAU;IAEnC;IACAC,SAAS,EAAEC,SAAS,CAACD,SAAS;IAC9BE,QAAQ,EAAED,SAAS,CAACC,QAAQ;IAC5BC,QAAQ,EAAEF,SAAS,CAACE,QAAQ;IAC5BC,aAAa,EAAEH,SAAS,CAACG,aAAa;IACtCC,UAAU,EAAEJ,SAAS,CAACI,UAAU,IAAI,SAAS;IAE7C;IACAC,iBAAiB,EAAErB,MAAM,CAACsB,SAAS,CAAC,CAAC;IAErC;IACAC,QAAQ,EAAEC,IAAI,CAACC,cAAc,CAAC,CAAC,CAACC,eAAe,CAAC,CAAC,CAACC,QAAQ;IAC1DC,cAAc,EAAE,IAAIC,IAAI,CAAC,CAAC,CAACC,iBAAiB,CAAC,CAAC;IAE9C;IACAC,mBAAmB,EAAEf,SAAS,CAACe,mBAAmB,IAAI,SAAS;IAE/D;IACAC,YAAY,EAAEhB,SAAS,CAACgB,YAAY,IAAI;EAC1C,CAAC;;EAED;EACA,MAAMC,iBAAiB,GAAGC,IAAI,CAACC,SAAS,CAAC3B,WAAW,CAAC;;EAErD;EACA,IAAI4B,IAAI,GAAG,CAAC;EACZ,KAAK,IAAIC,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGJ,iBAAiB,CAACK,MAAM,EAAED,CAAC,EAAE,EAAE;IACjD,MAAME,IAAI,GAAGN,iBAAiB,CAACO,UAAU,CAACH,CAAC,CAAC;IAC5CD,IAAI,GAAI,CAACA,IAAI,IAAI,CAAC,IAAIA,IAAI,GAAIG,IAAI;IAClCH,IAAI,GAAGA,IAAI,GAAGA,IAAI,CAAC,CAAC;EACtB;;EAEA;EACA,MAAMK,iBAAiB,GAAGC,IAAI,CAACC,GAAG,CAACP,IAAI,CAAC,CAACQ,QAAQ,CAAC,EAAE,CAAC,GAAG,GAAG,GACzDpC,WAAW,CAACC,gBAAgB,GAAG,GAAG,GAClCD,WAAW,CAACU,QAAQ,CAAC2B,SAAS,CAAC,CAAC,EAAE,EAAE,CAAC;EAEvC,OAAOJ,iBAAiB,CAACI,SAAS,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC;AAC7C","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}