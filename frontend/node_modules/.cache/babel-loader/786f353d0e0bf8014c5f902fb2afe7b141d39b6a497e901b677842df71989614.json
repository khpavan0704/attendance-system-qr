{"ast":null,"code":"import React,{useState,useEffect}from'react';import{isPWA,showInstallPrompt,listenForInstallPrompt,setInstallPrompt}from'../utils/registerServiceWorker';import'./InstallPrompt.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export default function InstallPrompt(){const[showPrompt,setShowPrompt]=useState(false);const[isInstalled,setIsInstalled]=useState(false);useEffect(()=>{// Check if already installed\nif(isPWA()){setIsInstalled(true);return;}// Listen for install prompt\nlistenForInstallPrompt();window.addEventListener('beforeinstallprompt',e=>{e.preventDefault();setInstallPrompt(e);setShowPrompt(true);});// Check if prompt was dismissed before\nconst dismissed=localStorage.getItem('install-prompt-dismissed');if(dismissed&&Date.now()-parseInt(dismissed)<7*24*60*60*1000){// Don't show if dismissed within last 7 days\nsetShowPrompt(false);}},[]);const handleInstall=async()=>{const installed=await showInstallPrompt();if(installed){setShowPrompt(false);setIsInstalled(true);}};const handleDismiss=()=>{setShowPrompt(false);localStorage.setItem('install-prompt-dismissed',Date.now().toString());};if(isInstalled||!showPrompt){return null;}return/*#__PURE__*/_jsx(\"div\",{className:\"install-prompt\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"install-prompt-content\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"install-icon\",children:\"\\uD83D\\uDCF1\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"install-text\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Install Attendance App\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Add to home screen for quick access and better experience!\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"install-actions\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:handleInstall,className:\"install-btn\",children:\"Install\"}),/*#__PURE__*/_jsx(\"button\",{onClick:handleDismiss,className:\"dismiss-btn\",children:\"Later\"})]})]})});}","map":{"version":3,"names":["React","useState","useEffect","isPWA","showInstallPrompt","listenForInstallPrompt","setInstallPrompt","jsx","_jsx","jsxs","_jsxs","InstallPrompt","showPrompt","setShowPrompt","isInstalled","setIsInstalled","window","addEventListener","e","preventDefault","dismissed","localStorage","getItem","Date","now","parseInt","handleInstall","installed","handleDismiss","setItem","toString","className","children","onClick"],"sources":["C:/Users/LENOVO/Downloads/attendance-system-qr/frontend/src/components/InstallPrompt.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { isPWA, showInstallPrompt, listenForInstallPrompt, setInstallPrompt } from '../utils/registerServiceWorker';\r\nimport './InstallPrompt.css';\r\n\r\nexport default function InstallPrompt() {\r\n  const [showPrompt, setShowPrompt] = useState(false);\r\n  const [isInstalled, setIsInstalled] = useState(false);\r\n\r\n  useEffect(() => {\r\n    // Check if already installed\r\n    if (isPWA()) {\r\n      setIsInstalled(true);\r\n      return;\r\n    }\r\n\r\n    // Listen for install prompt\r\n    listenForInstallPrompt();\r\n    \r\n    window.addEventListener('beforeinstallprompt', (e) => {\r\n      e.preventDefault();\r\n      setInstallPrompt(e);\r\n      setShowPrompt(true);\r\n    });\r\n\r\n    // Check if prompt was dismissed before\r\n    const dismissed = localStorage.getItem('install-prompt-dismissed');\r\n    if (dismissed && Date.now() - parseInt(dismissed) < 7 * 24 * 60 * 60 * 1000) {\r\n      // Don't show if dismissed within last 7 days\r\n      setShowPrompt(false);\r\n    }\r\n  }, []);\r\n\r\n  const handleInstall = async () => {\r\n    const installed = await showInstallPrompt();\r\n    if (installed) {\r\n      setShowPrompt(false);\r\n      setIsInstalled(true);\r\n    }\r\n  };\r\n\r\n  const handleDismiss = () => {\r\n    setShowPrompt(false);\r\n    localStorage.setItem('install-prompt-dismissed', Date.now().toString());\r\n  };\r\n\r\n  if (isInstalled || !showPrompt) {\r\n    return null;\r\n  }\r\n\r\n  return (\r\n    <div className=\"install-prompt\">\r\n      <div className=\"install-prompt-content\">\r\n        <div className=\"install-icon\">ðŸ“±</div>\r\n        <div className=\"install-text\">\r\n          <h3>Install Attendance App</h3>\r\n          <p>Add to home screen for quick access and better experience!</p>\r\n        </div>\r\n        <div className=\"install-actions\">\r\n          <button onClick={handleInstall} className=\"install-btn\">\r\n            Install\r\n          </button>\r\n          <button onClick={handleDismiss} className=\"dismiss-btn\">\r\n            Later\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAClD,OAASC,KAAK,CAAEC,iBAAiB,CAAEC,sBAAsB,CAAEC,gBAAgB,KAAQ,gCAAgC,CACnH,MAAO,qBAAqB,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAE7B,cAAe,SAAS,CAAAC,aAAaA,CAAA,CAAG,CACtC,KAAM,CAACC,UAAU,CAAEC,aAAa,CAAC,CAAGZ,QAAQ,CAAC,KAAK,CAAC,CACnD,KAAM,CAACa,WAAW,CAAEC,cAAc,CAAC,CAAGd,QAAQ,CAAC,KAAK,CAAC,CAErDC,SAAS,CAAC,IAAM,CACd;AACA,GAAIC,KAAK,CAAC,CAAC,CAAE,CACXY,cAAc,CAAC,IAAI,CAAC,CACpB,OACF,CAEA;AACAV,sBAAsB,CAAC,CAAC,CAExBW,MAAM,CAACC,gBAAgB,CAAC,qBAAqB,CAAGC,CAAC,EAAK,CACpDA,CAAC,CAACC,cAAc,CAAC,CAAC,CAClBb,gBAAgB,CAACY,CAAC,CAAC,CACnBL,aAAa,CAAC,IAAI,CAAC,CACrB,CAAC,CAAC,CAEF;AACA,KAAM,CAAAO,SAAS,CAAGC,YAAY,CAACC,OAAO,CAAC,0BAA0B,CAAC,CAClE,GAAIF,SAAS,EAAIG,IAAI,CAACC,GAAG,CAAC,CAAC,CAAGC,QAAQ,CAACL,SAAS,CAAC,CAAG,CAAC,CAAG,EAAE,CAAG,EAAE,CAAG,EAAE,CAAG,IAAI,CAAE,CAC3E;AACAP,aAAa,CAAC,KAAK,CAAC,CACtB,CACF,CAAC,CAAE,EAAE,CAAC,CAEN,KAAM,CAAAa,aAAa,CAAG,KAAAA,CAAA,GAAY,CAChC,KAAM,CAAAC,SAAS,CAAG,KAAM,CAAAvB,iBAAiB,CAAC,CAAC,CAC3C,GAAIuB,SAAS,CAAE,CACbd,aAAa,CAAC,KAAK,CAAC,CACpBE,cAAc,CAAC,IAAI,CAAC,CACtB,CACF,CAAC,CAED,KAAM,CAAAa,aAAa,CAAGA,CAAA,GAAM,CAC1Bf,aAAa,CAAC,KAAK,CAAC,CACpBQ,YAAY,CAACQ,OAAO,CAAC,0BAA0B,CAAEN,IAAI,CAACC,GAAG,CAAC,CAAC,CAACM,QAAQ,CAAC,CAAC,CAAC,CACzE,CAAC,CAED,GAAIhB,WAAW,EAAI,CAACF,UAAU,CAAE,CAC9B,MAAO,KAAI,CACb,CAEA,mBACEJ,IAAA,QAAKuB,SAAS,CAAC,gBAAgB,CAAAC,QAAA,cAC7BtB,KAAA,QAAKqB,SAAS,CAAC,wBAAwB,CAAAC,QAAA,eACrCxB,IAAA,QAAKuB,SAAS,CAAC,cAAc,CAAAC,QAAA,CAAC,cAAE,CAAK,CAAC,cACtCtB,KAAA,QAAKqB,SAAS,CAAC,cAAc,CAAAC,QAAA,eAC3BxB,IAAA,OAAAwB,QAAA,CAAI,wBAAsB,CAAI,CAAC,cAC/BxB,IAAA,MAAAwB,QAAA,CAAG,4DAA0D,CAAG,CAAC,EAC9D,CAAC,cACNtB,KAAA,QAAKqB,SAAS,CAAC,iBAAiB,CAAAC,QAAA,eAC9BxB,IAAA,WAAQyB,OAAO,CAAEP,aAAc,CAACK,SAAS,CAAC,aAAa,CAAAC,QAAA,CAAC,SAExD,CAAQ,CAAC,cACTxB,IAAA,WAAQyB,OAAO,CAAEL,aAAc,CAACG,SAAS,CAAC,aAAa,CAAAC,QAAA,CAAC,OAExD,CAAQ,CAAC,EACN,CAAC,EACH,CAAC,CACH,CAAC,CAEV","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}